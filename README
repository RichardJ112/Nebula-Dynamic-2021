# Nebula Dynamic 2021

This is a fork of the EBID simualtor Nebula Dynamic created by Jonathan Dingemanse which itself 
is based on the Monte Carlo electron-matter interaction scatterer created by Luc van Kessel of the TU Delft

Original Nebula Documentation can be found here:
https://nebula-simulator.github.io/

Look to this documentation for the creation of HDF5 material files with YAML text files with CSTOOL via ELSEPA

There are two folders inside this distribution. 

nebula_vsc contains the actual simulator and source code which can be compiled by using
the build_nebula_vsc.sh bash script in a linux terminal. To use the simulator add the executable to your PATH. After this you can use the desktop_run_alt.sh and desktop_multirun_alt.sh files to run simulations using the command line. Note that you will need to edit these to properly add the paths to your input parameters.

nebula_test_files contains a folder for the creation,filing and analysis of simulator output through a series of python scripts. In vox_tri_pri you can find python scripts for the creation of electron files for various geometries and different geometries.In the broader file folder output analysis
files can be found. 

To change some parameters inside the simulator changes should be made to 3 files:

nebula_vsc/source/physics_config.h
-change physics/scattering options

nebula_vsc/source/geometry/voxels.inl
-change gas handling options

nebula_vsc/source/cpu_vsc.cpp
-change location of nebula_test_files on line 217
-change dissociation cross section naming tag line 220

Note that the simulator requires 2 materials for gas handling but you can just use the same material twice with a different name.

Change CMakeLists.txt CMake build type to "Release" for increased speed

September 2021
Richard de Jong
